{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["// Оголошуємо глобальний об'єкт formData\nlet formData = { email: \"\", message: \"\" };\n\nconst refs = {\n    form: document.querySelector('.feedback-form'),\n    email: document.querySelector('input[name=email]'),\n    message: document.querySelector('textarea[name=message]'),\n};\n\n// Додаємо обробник події для вводу в форму\nrefs.form.addEventListener(\"input\", onInputForm);\n\n// Функція для збереження даних у локальне сховище\nfunction saveToLS(key, value) {\n    const jsonData = JSON.stringify(value);\n    localStorage.setItem(key, jsonData);\n}\n\n// Функція для завантаження даних з локального сховища\nfunction loadFromLS(key) {\n    const body = localStorage.getItem(key);\n    try {\n        return body ? JSON.parse(body) : null;\n    }\n    catch (error) {\n        console.log('Error parsing data from localStorage:', error);\n        return null;\n    }\n}\n\n// Обробник для вводу в форму\nfunction onInputForm(event) {\n    const userEmail = refs.email.value.trim();\n    const userMessage = refs.message.value.trim();\n    \n    // Оновлюємо глобальний об'єкт formData\n    formData.email = userEmail;\n    formData.message = userMessage;\n\n    // Зберігаємо дані в локальне сховище\n    saveToLS(\"feedback-form-state\", formData);\n}\n\n// Обробник для відправки форми\nrefs.form.addEventListener(\"submit\", onFormSubmit);\n\nfunction onFormSubmit(event) {\n    event.preventDefault();\n\n    // Очищаємо пробіли перед перевіркою\n    const emailValue = formData.email.trim();\n    const messageValue = formData.message.trim();\n\n    // Перевіряємо, чи всі поля заповнені\n    if (!emailValue || !messageValue) {\n        alert(\"Fill please all fields\");\n    }\n    else {\n        // Виводимо актуальний об'єкт formData в консоль\n        console.log(formData);\n        \n        // Очищаємо форму та локальне сховище\n        refs.form.reset();\n        localStorage.removeItem(\"feedback-form-state\");\n        \n        // Очищаємо глобальний об'єкт formData\n        formData = { email: \"\", message: \"\" };\n    }\n}\n\n// Функція для ініціалізації даних форми при завантаженні сторінки\nfunction initPage() {\n    const formDataFromStorage = loadFromLS(\"feedback-form-state\");\n\n    // Якщо є збережені дані, заповнюємо ними форму\n    if (formDataFromStorage) {\n        refs.email.value = formDataFromStorage.email || \"\";\n        refs.message.value = formDataFromStorage.message || \"\";\n\n        // Оновлюємо глобальний об'єкт formData\n        formData.email = formDataFromStorage.email || \"\";\n        formData.message = formDataFromStorage.message || \"\";\n    }\n    else {\n        refs.email.value = \"\";\n        refs.message.value = \"\";\n    }\n}\n\n// Ініціалізація сторінки\ninitPage();\n"],"names":["formData","refs","onInputForm","saveToLS","key","value","jsonData","loadFromLS","body","error","event","userEmail","userMessage","onFormSubmit","emailValue","messageValue","initPage","formDataFromStorage"],"mappings":"wFACA,IAAIA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAEvC,MAAMC,EAAO,CACT,KAAM,SAAS,cAAc,gBAAgB,EAC7C,MAAO,SAAS,cAAc,mBAAmB,EACjD,QAAS,SAAS,cAAc,wBAAwB,CAC5D,EAGAA,EAAK,KAAK,iBAAiB,QAASC,CAAW,EAG/C,SAASC,EAASC,EAAKC,EAAO,CAC1B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACtC,CAGA,SAASC,EAAWH,EAAK,CACrB,MAAMI,EAAO,aAAa,QAAQJ,CAAG,EACrC,GAAI,CACA,OAAOI,EAAO,KAAK,MAAMA,CAAI,EAAI,IACpC,OACMC,EAAO,CACV,eAAQ,IAAI,wCAAyCA,CAAK,EACnD,IACV,CACL,CAGA,SAASP,EAAYQ,EAAO,CACxB,MAAMC,EAAYV,EAAK,MAAM,MAAM,KAAI,EACjCW,EAAcX,EAAK,QAAQ,MAAM,KAAI,EAG3CD,EAAS,MAAQW,EACjBX,EAAS,QAAUY,EAGnBT,EAAS,sBAAuBH,CAAQ,CAC5C,CAGAC,EAAK,KAAK,iBAAiB,SAAUY,CAAY,EAEjD,SAASA,EAAaH,EAAO,CACzBA,EAAM,eAAc,EAGpB,MAAMI,EAAad,EAAS,MAAM,KAAI,EAChCe,EAAef,EAAS,QAAQ,KAAI,EAGtC,CAACc,GAAc,CAACC,EAChB,MAAM,wBAAwB,GAI9B,QAAQ,IAAIf,CAAQ,EAGpBC,EAAK,KAAK,QACV,aAAa,WAAW,qBAAqB,EAG7CD,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAE3C,CAGA,SAASgB,GAAW,CAChB,MAAMC,EAAsBV,EAAW,qBAAqB,EAGxDU,GACAhB,EAAK,MAAM,MAAQgB,EAAoB,OAAS,GAChDhB,EAAK,QAAQ,MAAQgB,EAAoB,SAAW,GAGpDjB,EAAS,MAAQiB,EAAoB,OAAS,GAC9CjB,EAAS,QAAUiB,EAAoB,SAAW,KAGlDhB,EAAK,MAAM,MAAQ,GACnBA,EAAK,QAAQ,MAAQ,GAE7B,CAGAe,EAAU"}