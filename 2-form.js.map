{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["\nconst refs = {\n    formData: { email: \"\", message: \"\" },\n    form: document.querySelector('.feedback-form'),\n    email: document.querySelector('input[name=email]'),\n    message: document.querySelector('textarea[name=message]'),\n}\n\nrefs.form.addEventListener(\"input\", onInputForm);\n\nfunction onInputForm(event) {\n    const userEmail = event.currentTarget.elements.email.value.trim();\n    const userMessage = event.currentTarget.elements.message.value.trim();\n    refs.formData.email = userEmail;\n    refs.formData.message = userMessage;\n    saveToLS(\"feedback-form-state\", refs.formData);\n}\n\nfunction saveToLS(key, value) {\n    const jsonData = JSON.stringify(value);\n    localStorage.setItem(key, jsonData);\n}\nfunction loadFromLS(key) {\n    const body = localStorage.getItem(key);\n    try {\n        const data = JSON.parse(body);\n        return (data);\n    }\n    catch { console.log('err') };\n}\n\nrefs.form.addEventListener(\"submit\", onFormSubmit);\n\n\nfunction onFormSubmit(event) {\n    event.preventDefault();\n    const data = loadFromLS(\"feedback-form-state\");\n    if (!refs.email.value || !refs.message.value) {\n        alert(\"Fill please all fields\");\n    }\n    else {\n        console.log(data);\n        refs.form.reset();\n        localStorage.removeItem(\"feedback-form-state\");\n    };\n}\n\n\nfunction initPage() {\n    const formData = loadFromLS(\"feedback-form-state\");\n    refs.email.value = formData?.email || \"\";\n    refs.message.value = formData?.message || \"\";\n\n}\ninitPage();\n"],"names":["refs","onInputForm","event","userEmail","userMessage","saveToLS","key","value","jsonData","loadFromLS","body","onFormSubmit","data","initPage","formData"],"mappings":"wFACA,MAAMA,EAAO,CACT,SAAU,CAAE,MAAO,GAAI,QAAS,EAAI,EACpC,KAAM,SAAS,cAAc,gBAAgB,EAC7C,MAAO,SAAS,cAAc,mBAAmB,EACjD,QAAS,SAAS,cAAc,wBAAwB,CAC5D,EAEAA,EAAK,KAAK,iBAAiB,QAASC,CAAW,EAE/C,SAASA,EAAYC,EAAO,CACxB,MAAMC,EAAYD,EAAM,cAAc,SAAS,MAAM,MAAM,OACrDE,EAAcF,EAAM,cAAc,SAAS,QAAQ,MAAM,OAC/DF,EAAK,SAAS,MAAQG,EACtBH,EAAK,SAAS,QAAUI,EACxBC,EAAS,sBAAuBL,EAAK,QAAQ,CACjD,CAEA,SAASK,EAASC,EAAKC,EAAO,CAC1B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACtC,CACA,SAASC,EAAWH,EAAK,CACrB,MAAMI,EAAO,aAAa,QAAQJ,CAAG,EACrC,GAAI,CAEA,OADa,KAAK,MAAMI,CAAI,CAE/B,MACK,CAAE,QAAQ,IAAI,KAAK,CAAC,CAC9B,CAEAV,EAAK,KAAK,iBAAiB,SAAUW,CAAY,EAGjD,SAASA,EAAaT,EAAO,CACzBA,EAAM,eAAc,EACpB,MAAMU,EAAOH,EAAW,qBAAqB,EACzC,CAACT,EAAK,MAAM,OAAS,CAACA,EAAK,QAAQ,MACnC,MAAM,wBAAwB,GAG9B,QAAQ,IAAIY,CAAI,EAChBZ,EAAK,KAAK,QACV,aAAa,WAAW,qBAAqB,EAErD,CAGA,SAASa,GAAW,CAChB,MAAMC,EAAWL,EAAW,qBAAqB,EACjDT,EAAK,MAAM,OAAQc,GAAA,YAAAA,EAAU,QAAS,GACtCd,EAAK,QAAQ,OAAQc,GAAA,YAAAA,EAAU,UAAW,EAE9C,CACAD,EAAU"}